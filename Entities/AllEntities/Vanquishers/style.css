/* =========================
   RESET & BASE
   ========================= */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif; }

:root{
    --bg-1: #000000;
    --bg-wb-mid: #0f0f0f;
    --bg-3: #2a2a2a;
    --final-cyan: rgba(0,180,220,0.12);
    --accent-cyan: rgba(0,255,255,1);
}

/* Body + pseudo overlay to animate gradient once and keep final state */
body {
    height:100vh;
    background: linear-gradient(135deg, var(--bg-1) 0%, var(--bg-wb-mid) 45%, var(--bg-3) 100%);
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    position:relative;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    transition: transform .32s ease, opacity .32s ease;
}

/* overlay pseudo-element that will animate from black/white to black/azzurro */
body::before{
    content:"";
    position:absolute;
    inset:0;
    z-index:0;
    pointer-events:none;
    background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(0,0,0,0.0) 45%);
    mix-blend-mode: screen;
    opacity:1;
    animation: bgFadeToCyan 1.1s ease-out 0.08s forwards;
}

/* =========================
   PAGE FADE OUT (micro fade before navigating)
   ========================= */
body.page-fade-out {
    animation: pageFadeOut .36s ease-in forwards;
    pointer-events: none;
}
@keyframes pageFadeOut {
    0%   { opacity: 1; transform: scale(1) translateZ(0); filter: none; }
    100% { opacity: 0; transform: scale(.995) translateZ(0); filter: blur(1px); }
}

/* =========================
   BACK BUTTON (animazione colore)
   ========================= */
.back-button{
    position:absolute;
    top:20px;
    left:20px;
    padding:10px 18px;
    background: linear-gradient(145deg,#0f0f0f,#2a2a2a);
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.06);
    color:#f2f2f2;
    font-weight:700;
    text-decoration:none;
    box-shadow:0 0 10px rgba(255,255,255,0.06);
    transition: transform .22s ease, box-shadow .22s ease, background .4s ease, border-color .4s ease, color .4s ease;
    z-index: 11;
    animation: backToCyan 1.1s ease-out 0.08s forwards;
}
.back-button:hover{ transform:scale(1.03); box-shadow:0 0 18px rgba(255,255,255,0.12); }

/* keep focus visible for accessibility */
.back-button:focus-visible {
    outline: none;
    box-shadow: 0 0 0 6px rgba(0,200,255,0.06);
}

/* =========================
   LAYOUT MENU
   ========================= */
.menu-page-container{
    display:flex;
    flex-wrap:wrap;
    gap: 36px;
    justify-content:center;
    align-items:flex-start;
    width:100%;
    max-width:1300px;
    position:relative;
    top:-90px;
    padding:20px 40px;
    z-index:10;
}

/* Card wrapper (icona + menu) */
.menu-card{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
    width:260px;
}

/* icona dorata/ritratto (puoi mettere background-image qui) */
.menu-icon{
    width:84px;
    height:84px;
    border-radius:50%;
    box-shadow: 0 6px 18px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    display:block;
    transform: translateY(0);
    z-index:12;
    background: radial-gradient(circle at 30% 25%, rgba(255,250,210,1) 0%, rgba(255,215,0,0.95) 40%, rgba(180,140,0,0.75) 65%, rgba(20,12,0,0.25) 100%);
    border: 3px solid rgba(255,230,120,0.12);
    box-shadow: 0 0 18px rgba(255,215,0,0.12), 0 6px 20px rgba(0,0,0,0.6);
}

/* =========================
   MENU: STILE BASE (ottimizzato)
   ========================= */
.menu-container{
    width:100%;
    height:88px;
    background: rgba(0,0,0,0.62);
    border-radius:30px;
    position:relative;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:visible;
    transition: transform .28s cubic-bezier(.2,.9,.3,1);
    will-change: transform, opacity;
    opacity:0;
    transform: translateY(44px);
    animation-name: menuFadeUp;
    animation-duration: 1.0s;
    animation-timing-function: cubic-bezier(.22,.9,.32,1);
    animation-fill-mode: both;
}

/* When the menu-container is an anchor, force block-like behavior & remove default link styling */
.menu-container.is-link,
.menu-container.is-link:link,
.menu-container.is-link:visited {
    display:flex;
    justify-content:center;
    align-items:center;
    text-decoration:none;
    color:inherit;
    width:100%;
    height:88px;
    -webkit-tap-highlight-color: transparent;
}

/* Accessible focus for anchor containers */
.menu-container.is-link:focus-visible {
    outline: none;
    box-shadow: 0 0 0 6px rgba(0,200,255,0.06);
}

/* pulsante interno */
.menu-button{
    width:86%;
    padding:16px;
    text-align:center;
    border-radius:18px;
    background: rgba(0,0,0,0.45);
    color:#f2f2f2;
    font-size:16px;
    font-weight:700;
    letter-spacing:.6px;
    cursor:pointer;
    border:2px solid transparent;
    box-shadow:0 6px 14px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.02);
    transition: transform .22s ease, box-shadow .22s ease;
}
.menu-button:hover{ transform: scale(1.04); }

/* pseudo-elements bordo esterno e interno mantenuti */
.menu-container::before,
.menu-container::after{
    content:"";
    position:absolute;
    border-radius:33px;
    pointer-events:none;
}

/* esterno: gradient + glow animato (ma statico dopo) */
.menu-container::before{
    top:-6px; left:-6px; right:-6px; bottom:-6px;
    z-index:-2;
    padding:6px;
    background-size:200% 200%;
    box-shadow: 0 0 25px rgba(0,0,0,0.15);
    animation: borderGradientShift 6s linear infinite;
}

/* interno: bordo meno saturo */
.menu-container::after{
    inset:8px;
    z-index:-1;
    border-radius:24px;
    border:2px solid rgba(255,255,255,0.06);
}

/* =========================
   VARIANTI (colori specifici richiesti)
   ========================= */

/* Ancient Emperor - rosso scuro */
.menu-card.ancient .menu-container::before{
    background: linear-gradient(135deg, rgba(139,0,0,0.18), rgba(255,0,0,0.06));
    box-shadow: 0 0 34px rgba(255,0,0,0.12);
}
.menu-card.ancient .menu-button{ border-color: rgba(255,0,0,0.38); }

/* Godlike Vanquisher - gold + ciano */
.menu-card.godlike .menu-container::before{
    background: linear-gradient(135deg, rgba(0,255,255,0.18), rgba(255,215,0,0.12));
    box-shadow: 0 0 34px rgba(0,255,255,0.12), 0 0 50px rgba(255,215,0,0.08);
}
.menu-card.godlike .menu-button{ border-color: rgba(255,215,0,0.45); }

/* First Vanquisher - azzurro */
.menu-card.first-blue .menu-container::before{
    background: linear-gradient(135deg, rgba(0,200,255,0.18), rgba(135,206,250,0.10));
    box-shadow: 0 0 34px rgba(0,200,255,0.12);
}
.menu-card.first-blue .menu-button{ border-color: rgba(0,200,255,0.45); }

/* First Vanquisher Goddess - rosso scuro */
.menu-card.first-goddess .menu-container::before{
    background: linear-gradient(135deg, rgba(180,30,30,0.18), rgba(139,0,0,0.08));
    box-shadow: 0 0 26px rgba(139,0,0,0.12);
}
.menu-card.first-goddess .menu-button{ border-color: rgba(255,0,0,0.42); }

/* Royal Warrior - grigio */
.menu-card.royal .menu-container::before{
    background: linear-gradient(135deg, rgba(220,220,220,0.08), rgba(160,160,160,0.06));
}
.menu-card.royal .menu-button{ border-color: rgba(200,200,200,0.3); }

/* Vanquisher Warrior Gold */
.menu-card.vanq-war .menu-container::before{
    background: linear-gradient(135deg, rgba(255,215,0,0.18), rgba(230,180,40,0.10));
}
.menu-card.vanq-war .menu-button{ border-color: rgba(255,215,0,0.42); }

/* Hover glow persistente */
.menu-card.godlike .menu-container:hover::before,
.menu-card.vanq-war .menu-container:hover::before { box-shadow:0 0 58px rgba(255,215,0,0.16); }
.menu-card.first-blue .menu-container:hover::before { box-shadow:0 0 48px rgba(0,200,255,0.16); }
.menu-card.ancient .menu-container:hover::before,
.menu-card.first-goddess .menu-container:hover::before { box-shadow:0 0 48px rgba(255,0,0,0.16); }
.menu-card.royal .menu-container:hover::before { box-shadow:0 0 28px rgba(200,200,200,0.12); }

/* =========================
   ANIMAZIONI (menu sequenza)
   ========================= */
.menu-card:nth-child(1) .menu-container { animation-delay: 0.16s; }
.menu-card:nth-child(2) .menu-container { animation-delay: 0.36s; }
.menu-card:nth-child(3) .menu-container { animation-delay: 0.56s; }
.menu-card:nth-child(4) .menu-container { animation-delay: 0.76s; }
.menu-card:nth-child(5) .menu-container { animation-delay: 0.96s; }
.menu-card:nth-child(6) .menu-container { animation-delay: 1.16s; }

/* keyframes */
@keyframes menuFadeUp {
    0% { opacity:0; transform: translateY(44px); }
    60% { opacity:1; transform: translateY(-6px); }
    100% { opacity:1; transform: translateY(0); }
}

/* background overlay animation */
@keyframes bgFadeToCyan {
    0% {
        background: linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(0,0,0,0.0) 45%);
        mix-blend-mode: screen;
        opacity:1;
    }
    100% {
        background: linear-gradient(135deg, rgba(0,180,220,0.08) 0%, rgba(0,120,160,0.04) 60%);
        mix-blend-mode: screen;
        opacity:1;
    }
}

/* back button animation */
@keyframes backToCyan {
    0% {
        background: linear-gradient(145deg,#0f0f0f,#2a2a2a);
        color:#f2f2f2;
        border-color: rgba(255,255,255,0.06);
        box-shadow:0 0 10px rgba(255,255,255,0.06);
    }
    100% {
        background: linear-gradient(145deg, rgba(0,30,40,0.9), rgba(0,60,80,0.6));
        color: #dffcff;
        border-color: rgba(0,220,255,0.5);
        box-shadow: 0 0 28px rgba(0,220,255,0.12);
    }
}

/* bordi animati per i menu */
@keyframes borderGradientShift {
    0% { background-position: 0% 0%; }
    50% { background-position: 100% 100%; }
    100% { background-position: 0% 0%; }
}

/* Rift animations - base line */
.rift { position:absolute; inset:-50%; pointer-events:none; z-index:1; }
.rift-line { position:absolute; width:220%; transform:rotate(-45deg); bottom:-40%; right:-60%; background-size:300% 100%; animation: riftMove 7s linear infinite; }
.rift-line.main {
    height:6px;
    background: linear-gradient(90deg, transparent, #ffffff, #e5e5e5, #bfbfbf, #e5e5e5, #ffffff, transparent);
    box-shadow: 0 0 30px rgba(255,255,255,0.9), 0 0 60px rgba(200,200,200,0.6);
    filter: blur(.6px);
    animation: riftMove 7s linear infinite, corruptionPulse 2.5s ease-in-out infinite;
    z-index:1;
}

/* =========================
   RIFF: overlay che sfuma bianco -> azzurro (rimane azzurra)
   ========================= */
.rift-line.main::after{
    content: "";
    position: absolute;
    inset: 0;
    z-index: 2;
    pointer-events: none;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(0,220,255,0.22) 18%,
        rgba(0,180,220,0.18) 40%,
        rgba(0,120,160,0.12) 60%,
        transparent 100%
    );
    opacity: 0;
    mix-blend-mode: screen;
    animation: riftToCyan 1.05s ease-out 0.08s forwards;
}
@keyframes riftToCyan {
    0%   { opacity: 0; transform: translateZ(0); }
    60%  { opacity: 0.85; }
    100% { opacity: 1; }
}

/* =========================
   ICON FADE IN: sincronizzato con i menu
   ========================= */
.menu-icon {
    opacity: 0;
    transform: translateY(12px) scale(0.98);
    will-change: transform, opacity;
    animation-name: iconFade;
    animation-duration: 0.92s;
    animation-timing-function: cubic-bezier(.22,.9,.32,1);
    animation-fill-mode: both;
}
.menu-card:nth-child(1) .menu-icon { animation-delay: 0.16s; }
.menu-card:nth-child(2) .menu-icon { animation-delay: 0.36s; }
.menu-card:nth-child(3) .menu-icon { animation-delay: 0.56s; }
.menu-card:nth-child(4) .menu-icon { animation-delay: 0.76s; }
.menu-card:nth-child(5) .menu-icon { animation-delay: 0.96s; }
.menu-card:nth-child(6) .menu-icon { animation-delay: 1.16s; }
@keyframes iconFade {
    0%   { opacity: 0; transform: translateY(12px) scale(.98); }
    60%  { opacity: 1; transform: translateY(-6px) scale(1.02); }
    100% { opacity: 1; transform: translateY(0) scale(1); }
}

/* =========================
   OPTIONAL: small active feedback on menu click
   ========================= */
.menu-container:active .menu-button{
    transform: scale(0.98);
}

/* =========================
   KEYFRAMES: Rift & corruption pulse (unchanged)
   ========================= */
@keyframes riftMove {
    0% { transform: translate(0,0) rotate(-45deg); opacity:0; }
    10% { opacity:1; }
    100% { transform: translate(-55%,-55%) rotate(-45deg); opacity:0; }
}
@keyframes corruptionPulse { 0% { background-position: 0% 50%; filter: blur(0.6px); } 100% { background-position: 300% 50%; filter: blur(1.2px); } }

